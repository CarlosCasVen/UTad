#include "stdafx.h"
#include "SoundsManager.h"
#include "sounds/BaseSound.h"
#include "bass/bass.h"

ISoundsManager *g_pSM = NULL;

ISoundsManager *ISoundsManager::get()
{
	if (!g_pSM)
		g_pSM = NEW(CSoundsManager, ());

	return g_pSM;
}

// **********************************************************************************************
//
// **********************************************************************************************
CSoundsManager::CSoundsManager()
{
}
CSoundsManager::~CSoundsManager()
{
}

// **********************************************************************************************
//
// **********************************************************************************************
int CSoundsManager::init()
{
	BASS_Init(-1, 44100, 0, NULL, NULL);
	return RET_OK;
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::end()
{
	BASS_Free();
	SAFE_DELETE(g_pSM);
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::playSound(ISound *pSound, int iFrom)
{
	reinterpret_cast<CBaseSound *>(pSound)->doPlay(iFrom);
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::plauseSound(ISound *pSound)
{
	reinterpret_cast<CBaseSound *>(pSound)->doPause();
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::stopSound(ISound *pSound)
{
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::pauseAllSounds	()
{
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::resumeAllSounds()
{
}

// **********************************************************************************************
//
// **********************************************************************************************
void CSoundsManager::stopAllSounds()
{
}